!function(){var e={620:function(){var e=document.querySelectorAll(".header__filter-amount_input"),a=document.querySelector(".header__filter-amount_value-left"),t=document.querySelector(".header__filter-amount_value-right");e[0].addEventListener("input",(function(o){+e[0].value>+e[1].value&&(e[1].value=+e[0].value,t.textContent=e[1].value),a.textContent=e[0].value})),e[1].addEventListener("input",(function(o){+e[1].value<+e[0].value&&(e[0].value=+e[1].value,a.textContent=e[0].value),t.textContent=e[1].value}));var o=document.querySelectorAll(".header__filter-year_input"),r=document.querySelector(".header__filter-year_value-left"),n=document.querySelector(".header__filter-year_value-right");o[0].addEventListener("input",(function(e){+o[0].value>+o[1].value&&(o[1].value=+o[0].value,n.textContent=o[1].value),r.textContent=o[0].value})),o[1].addEventListener("input",(function(e){+o[1].value<+o[0].value&&(o[0].value=+o[1].value,r.textContent=o[0].value),n.textContent=o[1].value}))},303:function(){var e=document.querySelector(".wrapper"),a=document.createElement("div");a.className="snowflake-block",e.appendChild(a);for(var t=0;t<50;t++){var o=document.createElement("div");o.className="snowflake",a.appendChild(o)}var r=document.querySelector(".welcome__btn"),n=document.querySelector(".welcome"),c=document.querySelector(".header"),s=document.querySelector(".search_input");r.addEventListener("click",(function(){r.classList.add("welcome__btn-animated"),n.classList.add("hidden-animation-slow"),setTimeout((function(){r.classList.add("hidden-animation-fast"),setTimeout((function(){c.classList.add("header-active"),r.classList.add("hidden"),r.classList.remove("welcome__btn-animated"),s.focus()}),300),e.classList.add("wrapper-active"),a.classList.add("hidden"),n.classList.add("hidden")}),1300)}))}},a={};function t(o){var r=a[o];if(void 0!==r)return r.exports;var n=a[o]={exports:{}};return e[o](n,n.exports,t),n.exports}!function(){"use strict";t(303),t(620);for(var e=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"false"},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:"false"},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:"false"},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:"true"},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:"true"},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:"false"},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:"false"},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:"false"},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:"false"},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"true"},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"true"},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:"false"},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:"true"},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:"false"},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:"false"},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:"false"},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:"true"},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:"true"},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:"false"},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:"false"},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:"false"},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"false"},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:"true"},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:"true"},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:"false"},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:"false"},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:"false"},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:"false"},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:"true"},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:"false"},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:"false"},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:"false"},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:"false"},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:"false"},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:"false"},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:"false"},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:"false"},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:"true"},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:"false"},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:"false"},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:"false"},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:"false"},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:"false"},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:"false"},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:"false"},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:"true"},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:"false"},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:"false"},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:"false"},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:"false"},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:"false"},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:"false"},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:"false"},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:"true"}],a=document.querySelector(".header__wrapper"),o=document.querySelector(".welcome__btn"),r=document.querySelector(".loader-wrapper"),n=[],c=[],s=0;s<59;s++)c.push(s);function l(t,o){if(o!=t.length){var c=document.createElement("div");c.className="header__wrapper_card",c.id="card-".concat(e[t[o]].num-1);var s=document.createElement("img");s.src="assets/toys/".concat(e[t[o]].num,".png"),s.className="header__wrapper_card_img",c.appendChild(s);var i=document.createElement("h2");i.textContent=e[t[o]].name,i.className="header__wrapper_card_title",c.appendChild(i);var u=document.createElement("div");u.className="header__wrapper_card_text-block",c.appendChild(u);var d=document.createElement("p");d.textContent="Amount: ",d.className="header__wrapper_card_text";var f=document.createElement("span");f.textContent=e[t[o]].count,d.appendChild(f),u.appendChild(d);var m=document.createElement("p");m.textContent="Year: ",m.className="header__wrapper_card_text";var v=document.createElement("span");v.textContent=e[t[o]].year,m.appendChild(v),u.appendChild(m);var p=document.createElement("p");p.textContent="Shape: ",p.className="header__wrapper_card_text";var h=document.createElement("span");h.textContent=e[t[o]].shape,p.appendChild(h),u.appendChild(p);var _=document.createElement("p");_.textContent="Color: ",_.className="header__wrapper_card_text";var y=document.createElement("span");y.textContent=e[t[o]].color,_.appendChild(y),u.appendChild(_);var g=document.createElement("p");g.textContent="Size: ",g.className="header__wrapper_card_text";var z=document.createElement("span");z.textContent=e[t[o]].size,g.appendChild(z),u.appendChild(g);var L=document.createElement("div");L.className="header__wrapper_card_btn",L.textContent="Add",c.appendChild(L);var x=document.createElement("i");if("true"===localStorage.getItem("toy-".concat(t[o]))?x.className="fas fa-star icon-star":x.className="fal fa-star icon-star",c.appendChild(x),"true"===localStorage.getItem("toy-".concat([t[o]]))){var C=document.createElement("span");C.className="header__wrapper_card_ribbon",c.appendChild(C)}a.appendChild(c),l(t,o+1)}else n=t.splice(""),document.querySelectorAll(".header__wrapper_card").forEach((function(e){e.classList.add("header__wrapper_card-active")})),r.classList.remove("loader-wrapper-active"),console.log("boom"),document.querySelectorAll(".icon-star").forEach((function(e){e.addEventListener("click",(function(e){var a,t=e.target,o=t.parentNode;if(a=o.id.length>6?Number(o.id[5]+o.id[6]):Number(o.id[o.id.length-1]),t.classList.contains("fas"))t.classList.remove("fas"),t.classList.add("fal"),console.log(a),localStorage.removeItem("toy-".concat(a)),localStorage.setItem("toy-".concat(a),"false"),t.parentNode.querySelector(".header__wrapper_card_ribbon").remove();else if(t.classList.contains("fal")){t.classList.remove("fal"),t.classList.add("fas"),localStorage.removeItem("toy-".concat(a)),localStorage.setItem("toy-".concat(a),"true");var r=t.parentNode,n=document.createElement("span");n.className="header__wrapper_card_ribbon",r.appendChild(n)}E()}))})),S=n,console.log("current arr",S),0===S.length?(console.log("hide"),I.classList.remove("error-hidden")):I.classList.contains("error-hidden")||I.classList.add("error-hidden"),console.log("lastCardsArray",n);var S}var i={shape:[],color:[],size:[],amount:[1,12],year:[1940,2020],favorite:[]};function u(a){d(),E();var t=[];return e.forEach((function(e){f(e.shape,a.shape)&&f(e.color,a.color)&&f(e.size,a.size)&&Number(e.count)>=a.amount[0]&&Number(e.count)<=a.amount[1]&&Number(e.year)>=a.year[0]&&Number(e.year)<=a.year[1]&&f(e.favorite,a.favorite)&&t.push(Number(e.num)-1)})),console.log(t),t}function d(){var e=document.querySelectorAll(".header__wrapper_card");e&&e.forEach((function(e){e.remove()}))}function f(e,a){var t=!1;return!(a.length>0)||(a.forEach((function(a){a===e&&(t=!0)})),t)}o.addEventListener("click",(function(){r.classList.add("loader-wrapper-active"),l(u(i),0)}));var m=document.querySelectorAll(".header__filter-shape_option"),v=document.querySelectorAll(".header__filter-color_option"),p=document.querySelectorAll(".header__filter-size_option");m.forEach((function(e){e.addEventListener("click",(function(e){if(e.target.classList.toggle("shape-active"),e.target.classList.contains("shape-active")){var a=e.target.children[0].id,t=a.length-1;1==a[t]?i.shape.push("шар"):2==a[t]?i.shape.push("снежинка"):3==a[t]?i.shape.push("колокольчик"):4==a[t]?i.shape.push("шишка"):5==a[t]&&i.shape.push("фигурка"),l(u(i),0),console.log(a[a.length-1]),console.log(i)}else{console.log("removing");var o=e.target.children[0].id,r=o.length-1;if(1==o[r]){var n=i.shape.indexOf("шар",0);i.shape.splice(n,1)}else if(2==o[r]){var c=i.shape.indexOf("снежинка",0);i.shape.splice(c,1)}else if(3==o[r]){var s=i.shape.indexOf("колокольчик",0);i.shape.splice(s,1)}else if(4==o[r]){var d=i.shape.indexOf("шишка",0);i.shape.splice(d,1)}else if(5==o[r]){var f=i.shape.indexOf("фигурка",0);i.shape.splice(f,1)}l(u(i),0),console.log(i)}}))})),v.forEach((function(e){e.addEventListener("click",(function(e){if(e.target.classList.toggle("color-active"),e.target.classList.contains("color-active")){var a=e.target.id,t=a.length-1;1==a[t]?i.color.push("белый"):2==a[t]?i.color.push("красный"):3==a[t]?i.color.push("желтый"):4==a[t]?i.color.push("синий"):5==a[t]&&i.color.push("зелёный"),l(u(i),0),console.log(i)}else{console.log("removing");var o=e.target.id,r=o.length-1;if(1==o[r]){var n=i.color.indexOf("белый",0);i.color.splice(n,1)}else if(2==o[r]){var c=i.color.indexOf("красный",0);i.color.splice(c,1)}else if(3==o[r]){var s=i.color.indexOf("желтый",0);i.color.splice(s,1)}else if(4==o[r]){var d=i.color.indexOf("синий",0);i.color.splice(d,1)}else if(5==o[r]){var f=i.color.indexOf("зеленый",0);i.color.splice(f,1)}l(u(i),0),console.log(i)}}))})),p.forEach((function(e){e.addEventListener("click",(function(e){if(e.target.classList.toggle("size-active"),e.target.classList.contains("size-active")){var a=e.target.id,t=a.length-1;1==a[t]?i.size.push("большой"):2==a[t]?i.size.push("средний"):3==a[t]&&i.size.push("малый"),l(u(i),0),console.log(i)}else{console.log("removing");var o=e.target.id,r=o.length-1;if(1==o[r]){var n=i.size.indexOf("большой",0);i.size.splice(n,1)}else if(2==o[r]){var c=i.size.indexOf("средний",0);i.size.splice(c,1)}else if(3==o[r]){var s=i.size.indexOf("малый",0);i.size.splice(s,1)}l(u(i),0),console.log(i)}}))}));var h=document.querySelectorAll(".header__filter-amount_input"),_=document.querySelectorAll(".header__filter-year_input");h.forEach((function(e){e.addEventListener("input",(function(e){e.target==h[0]?(i.amount[0]=Number(e.target.value),console.log(i),l(u(i),0)):(i.amount[1]=Number(e.target.value),console.log(i),l(u(i),0))}))})),_.forEach((function(e){e.addEventListener("input",(function(e){e.target==_[0]?(i.year[0]=Number(e.target.value),console.log(i),l(u(i),0)):(i.year[1]=Number(e.target.value),console.log(i),l(u(i),0))}))}));var y=document.querySelector(".header__filter-amount_value-left"),g=document.querySelector(".header__filter-amount_value-right"),z=document.querySelector(".header__filter-year_value-left"),L=document.querySelector(".header__filter-year_value-right");function E(){e.forEach((function(e,a){localStorage.getItem("toy-".concat(a))?e.favorite=localStorage.getItem("toy-".concat(a)):localStorage.setItem("toy-".concat(a),e.favorite)}))}E();var x=document.querySelector(".header__filter-favorite_btn"),C=document.querySelector(".header__filter-favorite_btn-background");function S(e){e!==x.children[0]||x.children[0].classList.contains("header__filter-favorite_btn-active")?e!==x.children[1]||x.children[1].classList.contains("header__filter-favorite_btn-active")||(x.children[0].classList.remove("header__filter-favorite_btn-active"),x.children[1].classList.add("header__filter-favorite_btn-active"),C.style.left=x.children[1].offsetLeft+"px",i.favorite=[],l(u(i),0)):(x.children[0].classList.add("header__filter-favorite_btn-active"),x.children[1].classList.remove("header__filter-favorite_btn-active"),C.style.left=x.children[0].offsetLeft+"px",i.favorite=["true"],l(u(i),0))}x.addEventListener("click",(function(e){S(e.target)}));var b=document.querySelector(".header__filter-reset");function q(a,t){console.log(a);var o=[];"ab"===t||"ba"===t?(a.forEach((function(a){o.push([e[a].name,e[a].name[0],e[a].color,e[a].size,e[a].year,e[a].count])})),o.sort(),console.log(o)):"12"!==t&&"21"!==t||(a.forEach((function(a){o.push([e[a].name,e[a].name[0],e[a].color,e[a].size,e[a].year,e[a].count])})),o.sort((function(e,a){return e[4]-a[4]})),console.log(o)),"ba"!==t&&"21"!==t||o.reverse();var r=[];"ab"===t||"ba"===t?o.forEach((function(a){e.forEach((function(e,t){e.name===a[0]&&e.color===a[2]&&e.size===a[3]&&e.year===a[4]&&e.count===a[5]&&r.push(t)}))})):"12"!==t&&"21"!==t||o.forEach((function(a){e.forEach((function(e,t){e.name===a[0]&&e.color===a[2]&&e.size===a[3]&&e.year===a[4]&&e.count===a[5]&&r.push(t)}))})),console.log("output",r),d(),E(),l(r,0)}b.addEventListener("click",(function(e){if(e.target===b.children[0])S(x.children[1]),m.forEach((function(e){e.classList.contains("shape-active")&&e.classList.remove("shape-active")})),v.forEach((function(e){e.classList.contains("color-active")&&e.classList.remove("color-active")})),p.forEach((function(e){e.classList.contains("size-active")&&e.classList.remove("size-active")})),h.forEach((function(e,a){0===a?(e.value=1,y.textContent="1"):(e.value=10,g.textContent="10")})),_.forEach((function(e,a){0===a?(e.value=1940,z.textContent="1940"):(e.value=2020,L.textContent="2020")})),i={shape:[],color:[],size:[],amount:[1,10],year:[1940,2020],favorite:[]},k.textContent="от А до Я",l(u(i),0);else if(e.target===b.children[1]){for(var a=0;a<60;a++)localStorage.removeItem("toy-".concat(a)),localStorage.setItem("toy-".concat(a),"false");console.log(i),E(),l(u(i),0)}}));var w=document.querySelector(".header__sort"),N=document.querySelector(".header__sort_list"),k=w.querySelector("span"),A=document.querySelectorAll(".header__sort_option");w.addEventListener("click",(function(e){if(w.classList.contains("header__sort-active")?w.classList.remove("header__sort-active"):w.classList.add("header__sort-active"),e.target!==N&&e.target!==w){var a=e.target;k.textContent=a.textContent}e.target===A[0]?q(n,"ab"):e.target===A[1]?q(n,"ba"):e.target===A[2]?q(n,"12"):e.target===A[3]&&q(n,"21")}));var O=document.querySelector(".search_input"),I=(document.querySelector(".icon-search"),document.querySelector(".icon-times"),document.querySelector(".error"));O.addEventListener("input",(function(){setTimeout((function(){var a,t,o;a=c,t=O.value,o=[],a.forEach((function(a,r){var n=t.toLowerCase();e[a].name.toLowerCase().includes(n)&&o.push(r)})),d(),l(o,0)}))}))}()}();